{"ast":null,"code":"import _createClass from \"/Users/riki/Documents/Git/AudioSynth/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _getPrototypeOf from \"/Users/riki/Documents/Git/AudioSynth/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"/Users/riki/Documents/Git/AudioSynth/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/riki/Documents/Git/AudioSynth/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _inherits from \"/Users/riki/Documents/Git/AudioSynth/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/riki/Documents/Git/AudioSynth/front/src/synth.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\n\nvar synthesizer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(synthesizer, _Component);\n\n  function synthesizer() {\n    var _this;\n\n    _classCallCheck(this, synthesizer);\n\n    return _possibleConstructorReturn(_this);\n  }\n\n  return synthesizer;\n}(Component);\n\nvar synth =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(synth, _Component2);\n\n  function synth(context, props) {\n    _classCallCheck(this, synth);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(synth).call(this, props));\n  }\n\n  _createClass(synth, [{\n    key: \"mute\",\n    value: function mute() {\n      //mutes the track\n      console.log('muted in the sound class');\n      this.gainNode.gain.setValueAtTime(0, this.context.currentTime);\n    }\n  }, {\n    key: \"unmute\",\n    value: function unmute() {\n      this.gainNode.gain.value = 1;\n    }\n  }, {\n    key: \"volumeAdjust\",\n    value: function volumeAdjust(val) {\n      this.gainNode.gain.value = val;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"polysynth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"oscillatorGroup\", {\n        value: this.state.oscillator,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), React.createElement(\"lfoGroup\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(\"envelopeGroup\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"filterGroup\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return synth;\n}(Component);\n\nvar oscillatorGroup =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(oscillatorGroup, _Component3);\n\n  /*Oscillator group is the audio source module web synthesizer. The class contains three oscillators.\n  */\n  function oscillatorGroup(context, props) {\n    var _this2;\n\n    _classCallCheck(this, oscillatorGroup);\n\n    //context = audioContext from web audio api\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(oscillatorGroup).call(this, props));\n    _this2.context = context;\n    _this2.gainNode = _this2.context.createGain();\n    _this2.merge = _this2.context.createChannelMerger(3);\n\n    _this2.osc1.connect(_this2.merge, 1, 0);\n\n    _this2.osc2.connect(_this2.merge, 1, 1);\n\n    _this2.osc3.connect(_this2.merge, 1, 2);\n\n    _this2.merge.connect(_this2.gainNode);\n\n    return _this2;\n  }\n\n  _createClass(oscillatorGroup, [{\n    key: \"setWave\",\n    value: function setWave(wave, osc) {\n      switch (osc) {\n        case \"osc1\":\n          this.osc1.setWave(wave);\n          break;\n\n        case \"osc2\":\n          this.osc2.setWave(wave);\n          break;\n\n        case \"osc3\":\n          this.osc3.setWave(wave);\n          break;\n      }\n    }\n  }, {\n    key: \"setGain\",\n    value: function setGain(osc1Vol, osc2Vol, osc3Vol) {\n      //Should be a percentage, where function maps \n      this.osc1.setVolume(osc1Vol);\n      this.osc2.setVolume(osc2Vol);\n      this.osc3.setVolume(osc3Vol);\n    }\n  }, {\n    key: \"getlastNode\",\n    value: function getlastNode() {\n      return this.merge;\n    }\n  }, {\n    key: \"play\",\n    value: function play(value, time) {\n      this.osc1.play(value, time);\n      this.osc2.play(value, time);\n      this.osc3.play(value, time);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(time) {\n      this.gainNode.gain.exponentialRampToValueAtTime(0.001, time + 1);\n      this.osc.stop(time + 1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"oscGroup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"oscillator\", {\n        id: \"osc1\",\n        type: this.state.osc1.type,\n        context: this.context,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"oscillator\", {\n        id: \"osc2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"oscillator\", {\n        id: \"osc3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return oscillatorGroup;\n}(Component);\n\nvar lfoGroup =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(lfoGroup, _Component4);\n\n  function lfoGroup(context) {\n    var _this3;\n\n    _classCallCheck(this, lfoGroup);\n\n    return _possibleConstructorReturn(_this3);\n  }\n\n  return lfoGroup;\n}(Component);\n\nvar envelopeGroup =\n/*#__PURE__*/\nfunction (_Component5) {\n  _inherits(envelopeGroup, _Component5);\n\n  function envelopeGroup(context) {\n    var _this4;\n\n    _classCallCheck(this, envelopeGroup);\n\n    return _possibleConstructorReturn(_this4);\n  }\n\n  return envelopeGroup;\n}(Component);\n\nvar Oscillator =\n/*#__PURE__*/\nfunction (_Component6) {\n  _inherits(Oscillator, _Component6);\n\n  //oscillator class providing an interface for control used by synth.\n  function Oscillator(props) {\n    var _this5;\n\n    _classCallCheck(this, Oscillator);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(Oscillator).call(this, props)); //context = audioContext created using the Web Audio API.\n\n    _this5.context = props.context;\n    _this5.state = {\n      oscType: props.oscType\n    };\n    return _this5;\n  }\n\n  _createClass(Oscillator, [{\n    key: \"init\",\n    value: function init() {\n      this.osc = this.context.createOscillator();\n      this.osc.type = 'sine'; //connects oscillator to gain node\n\n      this.osc.connect(this.gainNode); //connects gain node to the output destination. Temporary until further implementation.\n\n      this.gainNode.connect(this.context.destination); // This binding is necessary to make `this` work in the callback\n\n      this.setWave = this.setWave.bind(this);\n      this.setWave = this.setWave.bind(this);\n      this.setVolume = this.setVolume.bind(this);\n    }\n  }, {\n    key: \"connectNode\",\n    value: function connectNode(node) {\n      //takes an audio node as input to connect oscillator to\n      this.osc.connect(node);\n    }\n  }, {\n    key: \"setWave\",\n    value: function setWave(wave) {\n      //sets the wave type of the oscillator\n      this.osc.type = wave;\n    }\n  }, {\n    key: \"getOscGainNode\",\n    value: function getOscGainNode() {\n      //returns the oscillator object to be used to connected in an audio chain.\n      return this.gainNode;\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(val) {\n      this.gainNode.gain.value = val;\n    }\n  }, {\n    key: \"play\",\n    value: function play(value, time) {\n      //value = pitch of note, time = \n      this.init();\n      this.osc.frequency.value = value;\n      this.gainNode.gain.setValueAtTime(1, this.context.currentTime);\n      this.osc.start(time);\n      this.stop(time);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(time) {\n      this.gainNode.gain.exponentialRampToValueAtTime(0.001, time + 1);\n      this.osc.stop(time + 1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: this.props.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Power\"), React.createElement(\"div\", {\n        className: \"Wave-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.setWave.bind(this, 'sine'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Sine\"), React.createElement(\"button\", {\n        onClick: this.setWave.bind(this, 'square'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Square\"), React.createElement(\"button\", {\n        onClick: this.setWave.bind(this, 'saw'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"Saw\"), React.createElement(\"button\", {\n        onClick: this.setWave.bind(this, 'triangle'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Triangle\")), React.createElement(\"div\", {\n        className: \"Pitch-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pitchKnob\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Oscillator;\n}(Component);\n\nvar envelope = function envelope() {\n  _classCallCheck(this, envelope);\n};\n\nvar lfo =\n/*#__PURE__*/\nfunction () {\n  //Frequency of low frequency oscillator\n  function lfo(context) {\n    _classCallCheck(this, lfo);\n\n    this.osc = context.createOscillator();\n    this.analyser = this.context.createAnalyser();\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\n  }\n\n  _createClass(lfo, [{\n    key: \"setWave\",\n    value: function setWave(wave) {\n      //sets the wave type of the oscillator\n      this.osc.type = wave;\n    }\n  }, {\n    key: \"getWave\",\n    value: function getWave() {\n      //gets the current wave type of the oscillator\n      return this.osc.type;\n    }\n  }, {\n    key: \"setFreq\",\n    value: function setFreq(freq) {\n      this.osc.frequency.value = freq;\n    }\n  }, {\n    key: \"getFreq\",\n    value: function getFreq() {\n      return this.osc.frequnect.value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: this.props.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return lfo;\n}();\n\nvar filter = function filter() {\n  _classCallCheck(this, filter);\n};\n\nexport default Oscillator; // export default oscillatorGroup;\n// export default synth;","map":{"version":3,"sources":["/Users/riki/Documents/Git/AudioSynth/front/src/synth.js"],"names":["React","Component","synthesizer","synth","context","props","console","log","gainNode","gain","setValueAtTime","currentTime","value","val","state","oscillator","oscillatorGroup","createGain","merge","createChannelMerger","osc1","connect","osc2","osc3","wave","osc","setWave","osc1Vol","osc2Vol","osc3Vol","setVolume","time","play","exponentialRampToValueAtTime","stop","type","lfoGroup","envelopeGroup","Oscillator","oscType","createOscillator","destination","bind","node","init","frequency","start","id","envelope","lfo","analyser","createAnalyser","dataArray","Uint8Array","frequencyBinCount","freq","frequnect","filter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass synthesizer extends Component{\n    constructor(){\n\n    }\n}\n\n\nclass synth extends Component{\n    constructor(context, props){\n        super(props);\n\n    }\n\n    mute() {//mutes the track\n        console.log('muted in the sound class');\n        this.gainNode.gain.setValueAtTime(0, this.context.currentTime);\n\n    }\n\n\n\n    unmute() {\n        this.gainNode.gain.value = 1;\n    }\n    volumeAdjust(val) {\n        this.gainNode.gain.value = val;\n    }\n    handle\n    render() {\n        return (\n            <div className=\"polysynth\">\n                <oscillatorGroup\n                    value={this.state.oscillator}\n\n                />\n\n                <lfoGroup\n                \n                />\n                <envelopeGroup\n                \n                />\n                <filterGroup\n                \n                />\n            </div>\n\n\n        );\n    }\n}\n\n\n\n\n\n\nclass oscillatorGroup extends Component{\n    /*Oscillator group is the audio source module web synthesizer. The class contains three oscillators.\n    */\n    constructor(context, props){\n         //context = audioContext from web audio api\n        super(props);\n        this.context = context;\n        this.gainNode = this.context.createGain();\n        this.merge = this.context.createChannelMerger(3);\n        this.osc1.connect(this.merge,1,0);\n        this.osc2.connect(this.merge,1,1);\n        this.osc3.connect(this.merge,1,2);\n        this.merge.connect(this.gainNode);\n\n\n    }\n    setWave(wave,osc){\n        switch (osc){\n            case \"osc1\":\n            this.osc1.setWave(wave);\n            break;\n            case \"osc2\":\n            this.osc2.setWave(wave);\n            break;\n            case \"osc3\":\n            this.osc3.setWave(wave);\n            break;\n        }\n    }\n    setGain(osc1Vol, osc2Vol, osc3Vol){\n        //Should be a percentage, where function maps \n        this.osc1.setVolume(osc1Vol);\n        this.osc2.setVolume(osc2Vol);\n        this.osc3.setVolume(osc3Vol);\n    }\n\n    getlastNode(){\n        return this.merge;\n    }\n    play(value, time){\n        this.osc1.play(value, time);\n        this.osc2.play(value, time);\n        this.osc3.play(value, time);\n    }\n    stop(time){\n        this.gainNode.gain.exponentialRampToValueAtTime(0.001, time + 1);\n        this.osc.stop(time + 1);\n    }\n\n    render(){\n        return(\n            <div className=\"oscGroup\">\n                <oscillator id={\"osc1\"}\n                type={this.state.osc1.type}\n                context={this.context}\n\n                />\n                <oscillator id={\"osc2\"}/>\n                <oscillator id={\"osc3\"}/>\n            </div>\n        );\n    }\n}\n\nclass lfoGroup extends Component{\n    constructor(context){\n\n    }\n\n}\n\nclass envelopeGroup extends Component{\n    constructor(context){\n        \n    }\n}\n\nclass Oscillator extends Component{\n    //oscillator class providing an interface for control used by synth.\n    constructor(props){\n        super(props)\n        //context = audioContext created using the Web Audio API.\n        this.context = props.context;\n        this.state = {\n            oscType : props.oscType,\n            \n        };\n    }\n    init(){\n        this.osc = this.context.createOscillator();\n        this.osc.type = 'sine';\n        //connects oscillator to gain node\n        this.osc.connect(this.gainNode);\n        //connects gain node to the output destination. Temporary until further implementation.\n        this.gainNode.connect(this.context.destination);\n        // This binding is necessary to make `this` work in the callback\n        this.setWave = this.setWave.bind(this);\n        this.setWave = this.setWave.bind(this);\n        this.setVolume = this.setVolume.bind(this);\n\n    }\n    connectNode(node){\n        //takes an audio node as input to connect oscillator to\n        this.osc.connect(node);\n    }\n    setWave(wave){ \n        //sets the wave type of the oscillator\n        this.osc.type = wave;\n    }\n\n    getOscGainNode(){\n    //returns the oscillator object to be used to connected in an audio chain.\n        return this.gainNode;\n    }\n\n    setVolume(val){\n        this.gainNode.gain.value = val;\n    }\n\n    play(value, time){ \n    //value = pitch of note, time = \n        this.init();\n        this.osc.frequency.value = value;\n        this.gainNode.gain.setValueAtTime(1, this.context.currentTime);\n        this.osc.start(time);\n        this.stop(time);\n    }\n\n    stop(time) {\n        this.gainNode.gain.exponentialRampToValueAtTime(0.001, time + 1);\n        this.osc.stop(time + 1);\n    }\n\n    render(){\n        return(\n            <div id = {this.props.id}>\n                <button>Power</button>\n                <div className=\"Wave-form\">\n                    <button onClick={this.setWave.bind(this, 'sine')}>Sine</button>\n                    <button onClick={this.setWave.bind(this, 'square')}>Square</button>\n                    <button onClick={this.setWave.bind(this, 'saw')}>Saw</button>\n                    <button onClick={this.setWave.bind(this, 'triangle')}>Triangle</button>\n                </div>\n                <div className=\"Pitch-control\">\n                    <div className=\"pitchKnob\"></div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nclass envelope{\n    //Attack: time of gain rise - linear rate?\n    //Sustain: time extension of the play trigger\n    //Decay: time of gain decrease\n    //Release: time of signal length from starting point\n}\n\nclass lfo{\n    //Frequency of low frequency oscillator\n    constructor(context){\n        this.osc = context.createOscillator();\n        this.analyser = this.context.createAnalyser();\n        this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\n    }\n    setWave(wave){ \n    //sets the wave type of the oscillator\n        this.osc.type = wave;\n    }\n    getWave(){ \n    //gets the current wave type of the oscillator\n        return this.osc.type;\n    }\n    setFreq(freq){\n        this.osc.frequency.value = freq;\n    }\n    getFreq(){\n        return this.osc.frequnect.value;\n    }\n    render(){\n        return(\n        <div id={this.props.id}>\n            \n        </div>\n        )\n    }\n}\n\nclass filter{\n    \n}\n\n\nexport default Oscillator;\n// export default oscillatorGroup;\n// export default synth;\n\n"]},"metadata":{},"sourceType":"module"}